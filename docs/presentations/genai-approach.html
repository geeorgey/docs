<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>リバネスグループにおける生成AIへのアプローチ</title>
    
    <!-- OGP Meta Tags -->
    <meta property="og:title" content="リバネスグループにおける生成AIへのアプローチ">
    <meta property="og:description" content="2025年4月4日のプレゼンテーション。リバネスグループの生成AI活用事例とSlack連携による組織変革の実践を詳しく解説。">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://geeorgey.github.io/docs/presentations/genai-approach.html">
    <meta property="og:image" content="https://geeorgey.github.io/docs/images/ogp-genai-approach-default.png">
    <meta property="og:site_name" content="吉田丈治 プレゼンテーションアーカイブ">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="リバネスグループにおける生成AIへのアプローチ">
    <meta name="twitter:description" content="2025年4月4日のプレゼンテーション。リバネスグループの生成AI活用事例とSlack連携による組織変革の実践を詳しく解説。">
    <meta name="twitter:image" content="https://geeorgey.github.io/docs/images/ogp-genai-approach-default.png">
    
    <!-- Marked.js for Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    
    <style>
        body {
            font-family: 'Noto Sans JP', system-ui, -apple-system, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f8fafc;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        .slide-container {
            position: relative;
            background: #f8fafc;
            width: 100%;
            max-width: 1100px; /* 11:9の比率を考慮した最大幅 */
        }
        
        /* 基本スライドスタイル - 11:9の縦横比 */
        .slide {
            background: linear-gradient(135deg, #1e40af 0%, #f97316 100%);
            color: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            margin: 20px 0;
            aspect-ratio: 11 / 9; /* 11:9の縦横比を設定 */
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }
        
        /* 統一タイトルスタイル - 全レイアウト共通 */
        .slide h1,
        .slide h2 {
            position: absolute;
            top: 40px;
            left: 40px;
            right: 40px;
            margin: 0;
            font-size: 2.2rem;
            font-weight: bold;
            line-height: 1.2;
            text-align: left;
            z-index: 10;
            height: auto;
            max-height: 20%; /* タイトルエリアの最大高さを制限 */
        }
        
        /* コンテンツエリア - タイトル下に適切に配置 */
        .slide-content {
            margin-top: 140px; /* タイトル分の余白を増加 */
            padding-top: 20px; /* 追加の余白 */
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* 必要に応じてスクロール */
        }
        
        /* レイアウトパターン1: 中央寄せ（デフォルト） */
        .slide.layout-center .slide-content {
            text-align: center;
            align-items: center;
            justify-content: center;
        }
        
        /* レイアウトパターン2: 左寄せ */
        .slide.layout-left .slide-content {
            text-align: left;
            align-items: flex-start;
            justify-content: center;
            padding-left: 20px;
            padding-right: 20px;
        }
        
        /* レイアウトパターン3: 左寄せ + 右側画像 */
        .slide.layout-left-image-right .slide-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 40px;
            align-items: center;
            text-align: left;
        }
        
        /* レイアウトパターン4: 左側画像 + 右寄せテキスト */
        .slide.layout-image-left-text-right .slide-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 40px;
            align-items: center;
            text-align: left;
        }
        
        /* 中表紙レイアウト */
        .slide.layout-section {
            background: linear-gradient(135deg, #7c3aed 0%, #ec4899 100%);
        }
        
        .slide.layout-section .slide-content {
            text-align: center;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        /* 画像スタイル */
        .slide-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }
        
        /* テキストスタイル */
        .slide p {
            font-size: 1.2rem;
            line-height: 1.6;
            margin: 15px 0;
        }
        
        .slide ul {
            font-size: 1.1rem;
            line-height: 1.8;
            text-align: left;
        }
        
        .slide li {
            margin: 10px 0;
        }
        
        .slide strong {
            font-weight: bold;
            color: #fbbf24;
        }
        
        /* ローディング状態 */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 400px;
        }
        
        .spinner {
            border: 4px solid #f3f4f6;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ナビゲーション */
        .navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .nav-button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        
        .nav-button:hover {
            background: #2563eb;
        }
        
        .nav-button:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }
        
        .slide-counter {
            font-size: 18px;
            font-weight: bold;
            color: #374151;
        }
        
        .fullscreen-button {
            background: #10b981;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .fullscreen-button:hover {
            background: #059669;
        }
        
        /* スライド一覧 */
        .slide-overview {
            margin: 40px 0;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }
        
        .slide-overview h3 {
            margin: 0 0 20px 0;
            color: #374151;
            font-size: 1.5rem;
        }
        
        .slide-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .slide-thumbnail {
            background: linear-gradient(135deg, #1e40af 0%, #f97316 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .slide-thumbnail:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }
        
        .slide-thumbnail.current {
            border: 3px solid #fbbf24;
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
        }
        
        /* 全画面表示 */
        .fullscreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: black;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }
        
        .fullscreen .slide {
            width: 90vw;
            height: 90vh;
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .fullscreen .slide h1,
        .fullscreen .slide h2 {
            font-size: 3.5rem;
        }
        
        .fullscreen .slide p {
            font-size: 1.8rem;
        }
        
        .fullscreen .slide ul {
            font-size: 1.6rem;
        }
        
        /* 全画面表示時はナビゲーションとスライド一覧を非表示 */
        .fullscreen .navigation {
            display: none !important;
        }
        
        .fullscreen .slide-overview {
            display: none !important;
        }
        
        .exit-fullscreen {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(107, 114, 128, 0.8);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            width: 50px;
            height: 50px;
            z-index: 1001;
        }
        
        .exit-fullscreen:hover {
            background: rgba(75, 85, 99, 0.9);
        }
        
        /* タップエリア（全画面時のみ） */
        .tap-area {
            position: fixed;
            top: 0;
            bottom: 0;
            width: 50%;
            z-index: 999;
            cursor: pointer;
            display: none;
        }
        
        .tap-area.left {
            left: 0;
        }
        
        .tap-area.right {
            right: 0;
        }
        
        .fullscreen .tap-area {
            display: block;
        }
        
        /* レスポンシブ対応 */
        @media (max-width: 768px) {
            body {
                padding: 10px;
                align-items: flex-start; /* モバイルでは上寄せ */
            }
            
            .slide-container {
                max-width: 100%; /* モバイルではフルサイズ */
            }
            
            .slide {
                padding: 20px;
                aspect-ratio: 11 / 9; /* モバイルでも11:9を維持 */
                margin: 10px 0;
            }
            
            .slide h1,
            .slide h2 {
                font-size: 1.8rem;
                top: 20px;
                left: 20px;
                right: 20px;
                max-height: 25%; /* モバイルでタイトルエリアを少し拡大 */
            }
            
            .slide-content {
                margin-top: 100px; /* モバイル用に調整 */
                padding-top: 15px;
            }
            
            .slide p {
                font-size: 1rem;
                line-height: 1.5;
            }
            
            .slide ul {
                font-size: 0.9rem;
                line-height: 1.6;
            }
            
            .navigation {
                gap: 10px;
                margin: 15px 0;
            }
            
            .nav-button {
                padding: 10px 16px;
                font-size: 14px;
            }
        }
        
        /* PC版での横幅制限 */
        @media (min-width: 769px) {
            .slide-container {
                max-width: 1100px; /* PC版では適度に制限 */
            }
        }
    </style>
</head>
<body>
    <div class="slide-container" id="slideContainer">
        <!-- ローディング表示 -->
        <div class="slide loading" id="loadingSlide">
            <div class="spinner"></div>
            <p style="margin-top: 20px;">スライドを読み込み中...</p>
        </div>
        
        <!-- スライド表示エリア -->
        <div id="slideContent" style="display: none;"></div>
        
        <!-- ナビゲーション -->
        <div class="navigation" id="navigation" style="display: none;">
            <button class="nav-button" id="prevButton" onclick="previousSlide()">← 前へ</button>
            <button class="fullscreen-button" onclick="toggleFullscreen()">全画面</button>
            <span class="slide-counter" id="slideCounter">1 / 1</span>
            <button class="nav-button" id="nextButton" onclick="nextSlide()">次へ →</button>
        </div>
        
        <!-- スライド一覧 -->
        <div class="slide-overview" id="slideOverview" style="display: none;">
            <h3>スライド一覧</h3>
            <div class="slide-grid" id="slideGrid"></div>
        </div>
        
        <!-- 全画面終了ボタン -->
        <button class="exit-fullscreen" id="exitFullscreen" onclick="exitFullscreen()" style="display: none;">❌</button>
        
        <!-- タップエリア（全画面時のナビゲーション） -->
        <div class="tap-area left" onclick="previousSlide()"></div>
        <div class="tap-area right" onclick="nextSlide()"></div>
    </div>

    <script>
        let slides = [];
        let currentSlide = 0;
        let isFullscreen = false;

        // マークダウンファイルを読み込み
        async function loadSlides() {
            try {
                const response = await fetch('../slide-framework/genai-approach-slides.md');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const markdown = await response.text();
                
                // マークダウンをスライドに分割（---で区切る）
                const slideTexts = markdown.split('---').filter(slide => slide.trim());
                
                // 各スライドをHTMLに変換
                slides = slideTexts.map(slideText => {
                    const html = marked.parse(slideText.trim());
                    return html;
                });
                
                // URLパラメータから開始スライドを取得
                const urlParams = new URLSearchParams(window.location.search);
                const slideParam = urlParams.get('slide');
                if (slideParam) {
                    const slideNumber = parseInt(slideParam) - 1;
                    if (slideNumber >= 0 && slideNumber < slides.length) {
                        currentSlide = slideNumber;
                    }
                }
                
                // スライド表示
                showSlide(currentSlide);
                createSlideOverview();
                
                // ローディングを非表示にしてコンテンツを表示
                document.getElementById('loadingSlide').style.display = 'none';
                document.getElementById('slideContent').style.display = 'block';
                document.getElementById('navigation').style.display = 'flex';
                document.getElementById('slideOverview').style.display = 'block';
                
            } catch (error) {
                console.error('スライドの読み込みに失敗しました:', error);
                document.getElementById('loadingSlide').innerHTML = `
                    <p style="color: #ef4444;">スライドの読み込みに失敗しました</p>
                    <p style="font-size: 0.9rem; color: #6b7280;">エラー: ${error.message}</p>
                `;
            }
        }

        // 指定されたスライドを表示
        function showSlide(index) {
            if (index < 0 || index >= slides.length) return;
            
            currentSlide = index;
            const slideContentElement = document.getElementById('slideContent');
            
            // ローディングクラスを削除
            slideContentElement.classList.remove('loading');
            
            // スライドのHTMLを設定
            slideContentElement.innerHTML = `<div class="slide" id="currentSlideDiv">${slides[index]}</div>`;
            
            // レイアウトを自動判定して適用
            applyLayout();
            
            // ナビゲーションボタンの状態を更新
            document.getElementById('prevButton').disabled = (index === 0);
            document.getElementById('nextButton').disabled = (index === slides.length - 1);
            document.getElementById('slideCounter').textContent = `${index + 1} / ${slides.length}`;
            
            // スライド一覧の現在位置を更新
            updateSlideOverview();
            
            // URLを更新
            const newUrl = new URL(window.location);
            newUrl.searchParams.set('slide', index + 1);
            window.history.replaceState({}, '', newUrl);
            
            // OGPメタタグを更新
            updateOGP(index);
        }

        // レイアウトを自動判定して適用
        function applyLayout() {
            const slideDiv = document.getElementById('currentSlideDiv');
            const slideText = slideDiv.textContent || slideDiv.innerText;
            const wordCount = slideText.length;
            
            // 文字数とキーワードでレイアウトを判定
            if (wordCount < 100 || slideText.includes('# ')) {
                // 中表紙レイアウト
                slideDiv.className = 'slide layout-section';
            } else if (wordCount > 500) {
                // 左寄せレイアウト（長文）
                slideDiv.className = 'slide layout-left';
            } else {
                // 中央寄せレイアウト（デフォルト）
                slideDiv.className = 'slide layout-center';
            }
        }

        // スライド一覧を作成
        function createSlideOverview() {
            const slideGrid = document.getElementById('slideGrid');
            slideGrid.innerHTML = '';
            
            slides.forEach((slide, index) => {
                const thumbnail = document.createElement('div');
                thumbnail.className = 'slide-thumbnail';
                thumbnail.onclick = () => showSlide(index);
                
                // スライドのタイトルを抽出
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = slide;
                const title = tempDiv.querySelector('h1, h2, h3');
                thumbnail.textContent = title ? title.textContent : `スライド ${index + 1}`;
                
                slideGrid.appendChild(thumbnail);
            });
        }

        // スライド一覧の現在位置を更新
        function updateSlideOverview() {
            const thumbnails = document.querySelectorAll('.slide-thumbnail');
            thumbnails.forEach((thumbnail, index) => {
                thumbnail.classList.toggle('current', index === currentSlide);
            });
        }

        // OGPメタタグを更新
        function updateOGP(slideIndex) {
            const slideDiv = document.getElementById('currentSlideDiv');
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = slides[slideIndex];
            
            const title = tempDiv.querySelector('h1, h2, h3');
            const slideTitle = title ? title.textContent : 'スライド';
            
            const fullTitle = `${slideTitle} | リバネスグループにおける生成AIへのアプローチ (${slideIndex + 1}/${slides.length})`;
            const description = `2025年4月4日のプレゼンテーション「リバネスグループにおける生成AIへのアプローチ」のスライド${slideIndex + 1}`;
            
            // OGP画像を選択
            let ogpImage = 'https://geeorgey.github.io/docs/images/ogp-genai-approach-default.png';
            if (slideIndex === 0) {
                ogpImage = 'https://geeorgey.github.io/docs/images/ogp-genai-approach-01.png';
            }
            
            // メタタグを更新
            document.title = fullTitle;
            document.querySelector('meta[property="og:title"]').content = fullTitle;
            document.querySelector('meta[property="og:description"]').content = description;
            document.querySelector('meta[property="og:image"]').content = ogpImage;
            document.querySelector('meta[name="twitter:title"]').content = fullTitle;
            document.querySelector('meta[name="twitter:description"]').content = description;
            document.querySelector('meta[name="twitter:image"]').content = ogpImage;
        }

        // 前のスライドへ
        function previousSlide() {
            if (currentSlide > 0) {
                showSlide(currentSlide - 1);
            }
        }

        // 次のスライドへ
        function nextSlide() {
            if (currentSlide < slides.length - 1) {
                showSlide(currentSlide + 1);
            }
        }

        // 全画面表示の切り替え
        function toggleFullscreen() {
            if (!isFullscreen) {
                enterFullscreen();
            } else {
                exitFullscreen();
            }
        }

        // 全画面表示開始
        function enterFullscreen() {
            const container = document.getElementById('slideContainer');
            container.classList.add('fullscreen');
            document.getElementById('exitFullscreen').style.display = 'block';
            
            // ナビゲーションとスライド一覧を非表示
            const navigation = document.getElementById('navigation');
            const slideOverview = document.getElementById('slideOverview');
            navigation.style.display = 'none';
            slideOverview.style.display = 'none';
            
            isFullscreen = true;
        }

        // 全画面表示終了
        function exitFullscreen() {
            const container = document.getElementById('slideContainer');
            container.classList.remove('fullscreen');
            document.getElementById('exitFullscreen').style.display = 'none';
            
            // ナビゲーションとスライド一覧を表示
            const navigation = document.getElementById('navigation');
            const slideOverview = document.getElementById('slideOverview');
            navigation.style.display = 'flex';
            slideOverview.style.display = 'block';
            
            isFullscreen = false;
        }

        // キーボードショートカット
        document.addEventListener('keydown', function(event) {
            switch(event.key) {
                case 'ArrowLeft':
                    previousSlide();
                    break;
                case 'ArrowRight':
                case ' ':
                    event.preventDefault();
                    nextSlide();
                    break;
                case 'f':
                case 'F':
                    toggleFullscreen();
                    break;
                case 'Escape':
                    if (isFullscreen) {
                        exitFullscreen();
                    }
                    break;
            }
        });

        // ブラウザの戻る/進むボタン対応
        window.addEventListener('popstate', function(event) {
            const urlParams = new URLSearchParams(window.location.search);
            const slideParam = urlParams.get('slide');
            if (slideParam) {
                const slideNumber = parseInt(slideParam) - 1;
                if (slideNumber >= 0 && slideNumber < slides.length) {
                    showSlide(slideNumber);
                }
            }
        });

        // ページ読み込み時にスライドを読み込み
        window.addEventListener('load', loadSlides);
    </script>
</body>
</html>

